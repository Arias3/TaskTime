#:kivy 2.0.0
#:import MDLabel kivymd.uix.label.MDLabel
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton

<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)  # Padding general
        spacing: dp(20)  # Espaciado entre los elementos

        # Espacio vacío para ajuste visual
        Widget:
            size_hint_y: None
            height: dp(50)

        # Imagen de logo en la pantalla de bienvenida
        Image:
            source: 'assets/logo.png'
            size_hint: (0.95, 0.6)
            pos_hint: {'center_x': 0.5}
            fit_mode: 'contain'  # Ajuste de imagen, similar a keep_ratio

        # Título en la pantalla de bienvenida
        MDLabel:
            text: "¡BIENVENIDO A TASKTIME!"
            halign: "center"
            font_style: "H3"
            font_name: "assets/TittleRegular.otf"  # Fuente personalizada
            text_color: 0, 0, 0, 1  # Color del texto (negro)

        # Botón para acceder
        MDRaisedButton:
            text: "Acceder"
            pos_hint: {'center_x': 0.5}
            size_hint: (0.8, None)
            height: dp(60)  # Altura del botón
            md_bg_color: 0.835, 0.506, 0.631, 1  # Color de fondo rosa
            text_color: 1, 1, 1, 1  # Color del texto (blanco)
            font_size: dp(28)
            on_release: root.go_to_home()  # Acción al presionar el botón

        # Espacio vacío para ajuste visual
        Widget:
            size_hint_y: None
            height: dp(50)

<CustomButton@MDCard>:
    image_source: ''  # Definir la propiedad de imagen
    radius: dp(25)
    size_hint: None, None
    size: dp(230), dp(150)  # Tamaño más proporcional
    padding: dp(10)
    ripple_behavior: True
    md_bg_color: 235 / 255, 208 / 255, 215 / 255, 1  # Color de fondo personalizado
    pos_hint: {"center_x": 0.5}  # Centra horizontalmente el MDCard

    BoxLayout:
        orientation: "vertical"
        spacing: dp(8)  # Espaciado reducido para un diseño más compacto
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

        Image:
            source: root.image_source  # Utiliza la propiedad image_source
            size_hint: None, None
            size: dp(136), dp(130)  # Tamaño ajustado de la imagen
            pos_hint: {"center_x": 0.5}  # Centra la imagen horizontalmente


<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(15)
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "MENÚ   "
                font_size: "35sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

        BoxLayout:
            orientation: 'vertical'
            spacing: dp(50)
            padding: dp(20)

            CustomButton:
                image_source: 'assets/recordatorios.png'
                on_release: root.go_to_reminders()

            CustomButton:
                image_source: 'assets/pendientes.png'
                on_release: root.go_to_pending()

            CustomButton:
                image_source: 'assets/calendario.png'
                on_release: root.go_to_calendar()
        Widget:
            size_hint_y: 0.1

#Pantalla para los calendarios
<CalendarScreen>:
    BoxLayout:
        orientation: 'vertical'
        # Header
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(25)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1  # Color de fondo del header
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "Calendario"
                font_size: "30sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "home"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'
        
        BoxLayout:
            orientation:'vertical'
            padding: dp(15) 
            spacing: dp(25)
            BoxLayout:
                orientation:'horizontal'
                padding: dp(15)
                spacing: dp(15)
                size_hint_y: None
                height: dp(70)

                canvas:
                    Color:
                        rgba: 235 / 255, 208 / 255, 215 / 255, 1  # Color de fondo del header
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20, 20, 20, 20]
                Button:
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {"center_y": 0.5}
                    on_release: on_release: root.previous_month()
                    background_normal: 'assets/details3.png'
                    background_down: 'assets/details3.png'
                BoxLayout:
                    orientation:'vertical'
                    spacing: dp(10)
                    Label:
                        id: month_label
                        text: root.current_month
                        font_size: "35sp"
                        font_name: "assets/TittleRegular.otf"
                        color: 0, 0, 0, 1
                        valign: "middle"
                        halign: "center"
                    Label:
                        id: year_label
                        text: root.current_year
                        font_size: "25sp"  # Tamaño más pequeño
                        font_name: "assets/TittleRegular.otf"
                        color: 0, 0, 0, 1
                        valign: "middle"
                        halign: "center"
                        text_size: self.size
                Button:
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {"center_y": 0.5}
                    on_release: on_release: root.next_month()
                    background_normal: 'assets/details4.png'
                    background_down: 'assets/details4.png'
            # Contenedor para el carrusel
            BoxLayout:
                orientation: 'vertical'
                padding: dp(5) 
                canvas:
                    Color:
                        rgba: 235 / 255, 208 / 255, 215 / 255, 1  # Fondo blanco
                    RoundedRectangle:
                        pos: self.pos
                        size: self.width, self.height * 0.90  # Ajustar altura proporcionalmente (70% de la altura del contenedor)
                        radius: [15, 15, 15, 15]
                BoxLayout:
                    id: carousel_container
                    size_hint_y: None
                    height: self.parent.height * 0.82  # Ajustar la altura del contenedor de acuerdo a la proporción
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(0.25)
                padding: dp(15)
                Label:
                    text: "¡Crea un recordatorio rápido!"
                    font_size: "30sp" 
                    font_name: "assets/TittleRegular.otf"
                    color: 0, 0, 0, 1  # Negro
                    valign: 'middle'
                    halign: 'center'
                MDRaisedButton:
                    text: "Crear recordatorio"
                    pos_hint: {'center_x': 0.5}
                    size_hint: (0.7, None)
                    height: dp(48)  # Altura del botón
                    md_bg_color: 0.835, 0.506, 0.631, 1  # Color de fondo rosa
                    text_color: 1, 1, 1, 1  # Color del texto (blanco)
                    font_size: "25sp"  
                    font_name: "assets/TittleRegular.otf"
                    on_release: root.manager.current = 'add_recordatorio'
            Widget:
                size_hint_y: 0.1

# Pantalla de Recordatorios
<RemindersScreen>:
    BoxLayout:
        orientation: 'vertical'
        # Header
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1  # Color de fondo del header
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "RECORDATORIOS"
                font_size: "30sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "home"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Contenedor con el ScrollView y el botón flotante
        FloatLayout:
            # ScrollView para la lista de recordatorios
            ScrollView:
                BoxLayout:
                    id: recordatorios_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(20)  # Aumento de separación entre los cards
                    padding: [dp(10), dp(20), dp(10), dp(40)]
                    # Lista de recordatorios
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        spacing: dp(30)
                    
            # Botón flotante en la esquina inferior
            MDFloatingActionButton:
                icon: 'assets/add.png'
                pos_hint: {"right": 0.95}
                y:dp(20)
                on_release: root.manager.current = 'add_recordatorio'
                size_hint: None, None
                md_bg_color: 0.831, 0.506, 0.631, 1
                size: dp(58), dp(58)
                elevation: 4
                keep_on_top: True


#Pantalla para Editar Recordatorios
<EditarTareaScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Header con logo y título
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)
            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "Editar Recordatorio"
                font_size: "24sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "reminders"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Espacio entre el header y el formulario
        Widget:
            size_hint_y: 0.1

        # Formulario de entrada de datos
        BoxLayout:
            orientation: "vertical"
            spacing: "20dp"
            padding: "10dp"

            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"

                Label:
                    text: "Ingrese el título del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "30dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDCard:
                    size_hint_y: None
                    height: "100dp"
                    padding: "10dp"
                    radius: [15, 15, 15, 15]
                    md_bg_color: 1, 1, 1, 1

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Color negro para el borde
                        Line:
                            width: 1.5  # Ancho del borde
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15  # Contorno redondeado

                    TextInput:
                        id: editar_titulo
                        hint_text: "Título del recordatorio"
                        multiline: True  # Permitir varias líneas
                        size_hint_y: None
                        height: "80dp"
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0
                        foreground_color: 0, 0, 0, 1
                        hint_text_color: 0.5, 0.5, 0.5, 1
                        padding: [10, 10, 10, 10]
                        on_text: self.text = self.text[:24]  # Limitar a 40 caracteres
            # Espacio entre el formulario y los botones
            Widget:
                size_hint_y: "0.5dp"

            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"

                Label:
                    text: "Ingrese la descripción del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "40dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"
                

                MDCard:
                    size_hint_y: None
                    height: "150dp"
                    padding: "10dp"
                    radius: [15, 15, 15, 15]
                    md_bg_color: 1, 1, 1, 1

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            width: 1.5
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15

                    TextInput:
                        id: editar_descripcion
                        hint_text: "Descripción del recordatorio"
                        multiline: True
                        size_hint_y: None
                        height: "140dp"
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0
                        foreground_color: 0, 0, 0, 1
                        hint_text_color: 0.5, 0.5, 0.5, 1
                        padding: [10, 10, 10, 10]
                    

            MDTextField:
                id: editar_fecha
                hint_text: "Fecha (dd/mm/yyyy)"
                mode: "rectangle"
                size_hint_y: None
                height: "40dp"
                on_focus: root.show_date_picker(self.focus)

            MDTextField:
                id: editar_hora
                hint_text: "Hora (hh:mm)"
                mode: "rectangle"
                size_hint_y: None
                height: "40dp"
                on_focus: root.show_time_picker(self.focus)

        # Espacio entre el formulario y los botones
        Widget:
            size_hint_y: 0.2

        # Botón en la parte inferior
        BoxLayout:
            orientation: 'vertical'
            spacing: "20dp"
            padding: "20dp"
            size_hint_y: None
            height: dp(80)
            pos_hint: {"center_x": 0.5}

            MDRaisedButton:
                text: "GUARDAR"
                font_size: "30sp"
                size_hint: None, None
                size: dp(400), dp(80)
                pos_hint: {"center_x": 0.5}
                md_bg_color: 0.831, 0.506, 0.631, 1
                text_color: 0, 0, 0, 1
                font_name: "assets/TittleRegular.otf"
                on_release: root.actualizar_recordatorio()

        Widget:
            size_hint_y: 0.05


#Pantalla para agregar Recordatorios
<AddRecordatorioScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        # Header con logo y título
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)
            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "Nuevo Recordatorio"
                font_size: "24sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "reminders"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Espacio entre el header y el formulario
        Widget:
            size_hint_y: 0.1

        # Formulario de entrada de datos
        BoxLayout:
            orientation: "vertical"
            spacing: "20dp"
            padding: "10dp"

            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"
                Label:
                    text: "Ingrese el título del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "30dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDCard:
                    size_hint_y: None
                    height: "100dp"
                    padding: "10dp"
                    radius: [15, 15, 15, 15]
                    md_bg_color: 1, 1, 1, 1

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Color negro para el borde
                        Line:
                            width: 1.5  # Ancho del borde
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15  # Contorno redondeado

                    TextInput:
                        id: titulo
                        hint_text: "Título del recordatorio"
                        multiline: True  # Permitir varias líneas
                        size_hint_y: None
                        height: "80dp"
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0
                        foreground_color: 0, 0, 0, 1
                        hint_text_color: 0.5, 0.5, 0.5, 1
                        padding: [10, 10, 10, 10]
                        on_text: self.text = self.text[:14]  # Limitar a 40 caracteres
            
            # Espacio entre el formulario y los botones
            Widget:
                size_hint_y: "0.55dp" 
            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"
                Label:
                    text: "Ingrese la descripción del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "40dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"
                
                MDCard:
                    size_hint_y: None
                    height: "150dp"  # Altura ajustada para texto en párrafos
                    padding: "10dp"
                    radius: [15, 15, 15, 15]  # Bordes redondeados
                    md_bg_color: 1, 1, 1, 1  # Fondo blanco

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Color negro para el borde
                        Line:
                            width: 1.5  # Ancho del borde
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15  # Contorno redondeado

                    TextInput:
                        id: descripcion
                        hint_text: "Descripción del recordatorio"
                        multiline: True  # Permitir texto en varias líneas
                        size_hint_y: None
                        height: "140dp"  # Altura dentro del MDCard
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0  # Fondo transparente para heredar el de MDCard
                        foreground_color: 0, 0, 0, 1  # Color del texto (negro)
                        hint_text_color: 0.5, 0.5, 0.5, 1  # Color del texto de ayuda
                        padding: [10, 10, 10, 10]
            
            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"
                Label:
                    text: "Ingrese la fecha del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "40dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDTextField:
                    id: fecha
                    hint_text: "Fecha"
                    mode: "rectangle"
                    size_hint_y: None
                    height: "40dp"
                    on_focus: root.show_date_picker(self.focus)
            
            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"

                Label:
                    text: "Ingrese la hora del recordatorio:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "40dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDTextField:
                    id: hora
                    hint_text: "Hora"
                    mode: "rectangle"
                    size_hint_y: None
                    height: "40dp"
                    on_focus: root.show_time_picker(self.focus)

        # Espacio entre el formulario y los botones
        Widget:
            size_hint_y: 0.1

        # Botón en la parte inferior
        BoxLayout:
            orientation: 'vertical'
            spacing: "20dp"
            padding: "20dp"
            size_hint_y: None
            height: dp(80)  # Altura ajustada para hacer el botón más grande
            pos_hint: {"center_x": 0.5}

            MDRaisedButton:
                text: "AGREGAR"
                font_size:"30sp"
                size_hint: None, None
                size: dp(400), dp(80)  # Tamaño aumentado del botón
                pos_hint: {"center_x": 0.5}
                md_bg_color: 0.831, 0.506, 0.631, 1  # Color de fondo del botón
                text_color: 0, 0, 0, 1  # Letras negras
                font_name: "assets/TittleRegular.otf"
                on_release: root.agregar_recordatorio()
        Widget:
            size_hint_y: 0.1


# Pantalla de Pendientes
<ListScreen>:
    BoxLayout:
        orientation: 'vertical'
        # Header
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(20)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1  # Color de fondo del header
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "MIS LISTAS"
                font_size: "30sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "home"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Contenedor con el ScrollView y el botón flotante
        FloatLayout:
            # ScrollView para la lista de listas
            ScrollView:
                BoxLayout:
                    id: listas_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(20)  # Aumento de separación entre las tarjetas
                    padding: [dp(10), dp(20), dp(10), dp(20)]
                    # Lista de listas
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        spacing: dp(30)

            # Botón flotante en la esquina inferior
            MDFloatingActionButton:
                icon: 'assets/add.png'
                pos_hint: {"right": 0.95}
                y: dp(20)
                on_release: root.manager.current = 'AddList'
                size_hint: None, None
                md_bg_color: 0.831, 0.506, 0.631, 1
                size: dp(58), dp(58)
                elevation: 4
                keep_on_top: True


#Pantalla de visualización de lista individual
<ShowListScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        # Header
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(20)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1  # Color de fondo del header
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                id: header_title
                text: ""  # Se actualizará dinámicamente
                font_size: "30sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "list"  # Regresa a la pantalla de listas
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Contenedor principal con los ítems y dos botones flotantes
        FloatLayout:
            #Scrollview
            ScrollView:
                BoxLayout:
                    id: items_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(20)
                    padding: [dp(10), dp(20), dp(10), dp(20)]
                    #lista de Items
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        spacing: dp(30)
        
            # Botón flotante en la esquina inferior
            MDFloatingActionButton:
                icon: 'assets/add.png'
                pos_hint: {"right": 0.95}
                y: dp(80)
                on_release: root.agregar_item(root.lista_id)
                size_hint: None, None
                md_bg_color: 0.831, 0.506, 0.631, 1
                size: dp(58), dp(58)
                elevation: 4
                keep_on_top: True     

            # Botón flotante en la esquina inferior
            MDFloatingActionButton:
                icon: 'assets/delete.png'
                pos_hint: {"right": 0.95}
                y: dp(20)
                on_release: root.delete_list()
                size_hint: None, None
                md_bg_color: 0.831, 0.506, 0.631, 1
                size: dp(8), dp(8)
                elevation: 4
                keep_on_top: True        

#Pantalla para crear listas
<AddListScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        # Header con logo y título
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)
            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "Nueva Lista"
                font_size: "24sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(60), dp(60)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "list"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Espacio entre el header y el formulario
        Widget:
            size_hint_y: 0.1

        # Formulario de entrada de datos
        BoxLayout:
            orientation: "vertical"
            spacing: "20dp"
            padding: "10dp"

            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"
                Label:
                    text: "Ingrese el título de la lista:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "30dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDCard:
                    size_hint_y: None
                    height: "100dp"
                    padding: "10dp"
                    radius: [15, 15, 15, 15]
                    md_bg_color: 1, 1, 1, 1

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Color negro para el borde
                        Line:
                            width: 1.5  # Ancho del borde
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15  # Contorno redondeado

                    TextInput:
                        id: titulo
                        hint_text: "Título de la lista"
                        multiline: True  # Permitir varias líneas
                        size_hint_y: None
                        height: "80dp"
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0
                        foreground_color: 0, 0, 0, 1
                        hint_text_color: 0.5, 0.5, 0.5, 1
                        padding: [10, 10, 10, 10]
                        on_text: self.text = self.text[:14]  # Limitar a 25 caracteres
            
            BoxLayout:
                orientation:'vertical'
                spacing:"2dp"
                Label:
                    text: "Ingrese la descripción de la lista:"
                    font_name: "assets/TittleRegular.otf"
                    size_hint_y: None
                    height: "40dp"
                    font_size: "20sp"
                    color: 0, 0, 0, 1
                    halign: "left"

                MDCard:
                    size_hint_y: None
                    height: "150dp"  # Altura ajustada para texto en párrafos
                    padding: "10dp"
                    radius: [15, 15, 15, 15]  # Bordes redondeados
                    md_bg_color: 1, 1, 1, 1  # Fondo blanco

                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Color negro para el borde
                        Line:
                            width: 1.5  # Ancho del borde
                            rounded_rectangle: self.x, self.y, self.width, self.height, 15  # Contorno redondeado

                    TextInput:
                        id: descripcion
                        hint_text: "Descripción de la lista"
                        multiline: True  # Permitir texto en varias líneas
                        size_hint_y: None
                        height: "140dp"  # Altura dentro del MDCard
                        font_size: "16sp"
                        background_color: 0, 0, 0, 0  # Fondo transparente para heredar el de MDCard
                        foreground_color: 0, 0, 0, 1  # Color del texto (negro)
                        hint_text_color: 0.5, 0.5, 0.5, 1  # Color del texto de ayuda
                        padding: [10, 10, 10, 10]
                        max_length: 95


        # Espacio entre el formulario y los botones
        Widget:
            size_hint_y: 0.3

        # Botón en la parte inferior
        BoxLayout:
            orientation: 'vertical'
            spacing: "20dp"
            padding: "20dp"
            size_hint_y: None
            height: dp(80)  # Altura ajustada para hacer el botón más grande
            pos_hint: {"center_x": 0.5}

            MDRaisedButton:
                text: "AGREGAR"
                font_size:"30sp"
                size_hint: None, None
                size: dp(400), dp(80)  # Tamaño aumentado del botón
                pos_hint: {"center_x": 0.5}
                md_bg_color: 0.831, 0.506, 0.631, 1  # Color de fondo del botón
                text_color: 0, 0, 0, 1  # Letras negras
                font_name: "assets/TittleRegular.otf"
                on_release: root.agregar_lista()

        Widget:
            size_hint_y: 0.1


# Pantalla de Configuración
<SettingsScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Pantalla de Configuración"
            font_size: "30sp"
            size_hint_y: None
            height: dp(100)
            halign: "center"
        Button:
            text: "Regresar"
            size_hint: None, None
            size: dp(200), dp(50)
            pos_hint: {"center_x": 0.5}
            on_release: app.root.current = "home"
