#:kivy 2.0.0
#:import MDLabel kivymd.uix.label.MDLabel
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton

<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)  # Padding general
        spacing: dp(20)  # Espaciado entre los elementos

        # Espacio vacío para ajuste visual
        Widget:
            size_hint_y: None
            height: dp(50)

        # Imagen de logo en la pantalla de bienvenida
        Image:
            source: 'assets/logo.png'
            size_hint: (0.95, 0.6)
            pos_hint: {'center_x': 0.5}
            fit_mode: 'contain'  # Ajuste de imagen, similar a keep_ratio

        # Título en la pantalla de bienvenida
        MDLabel:
            text: "¡BIENVENIDO A TASKTIME!"
            halign: "center"
            font_style: "H4"
            font_name: "assets/TittleRegular.otf"  # Fuente personalizada
            text_color: 0, 0, 0, 1  # Color del texto (negro)

        # Botón para acceder
        MDRaisedButton:
            text: "Acceder"
            pos_hint: {'center_x': 0.5}
            size_hint: (0.6, None)
            height: dp(48)  # Altura del botón
            md_bg_color: 0.835, 0.506, 0.631, 1  # Color de fondo rosa
            text_color: 1, 1, 1, 1  # Color del texto (blanco)
            on_release: root.go_to_home()  # Acción al presionar el botón

        # Espacio vacío para ajuste visual
        Widget:
            size_hint_y: None
            height: dp(50)

<CustomButton@MDCard>:
    image_source: ''  # Definir la propiedad de imagen
    radius: dp(15)
    size_hint: None, None
    size: dp(220), dp(140)  # Tamaño más proporcional
    padding: dp(10)
    ripple_behavior: True
    md_bg_color: 235 / 255, 208 / 255, 215 / 255, 1  # Color de fondo personalizado
    pos_hint: {"center_x": 0.5}  # Centra horizontalmente el MDCard

    BoxLayout:
        orientation: "vertical"
        spacing: dp(8)  # Espaciado reducido para un diseño más compacto
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

        Image:
            source: root.image_source  # Utiliza la propiedad image_source
            size_hint: None, None
            size: dp(106), dp(100)  # Tamaño ajustado de la imagen
            pos_hint: {"center_x": 0.5}  # Centra la imagen horizontalmente


<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        pos_hint: {'top': 1}

        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(70), dp(70)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "MENÚ"
                font_size: "35sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

        BoxLayout:
            orientation: 'vertical'
            spacing: dp(15)
            padding: dp(15)
            size_hint_y: None
            height: self.minimum_height

            CustomButton:
                image_source: 'assets/calendario.png'
                on_release: root.go_to_calendar()

            CustomButton:
                image_source: 'assets/recordatorios.png'
                on_release: root.go_to_reminders()

            CustomButton:
                image_source: 'assets/pendientes.png'
                on_release: root.go_to_pending()

            CustomButton:
                image_source: 'assets/configuracion.png'
                on_release: root.go_to_settings()

# Pantalla de Calendario
<CalendarScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Pantalla de Calendario"
            font_size: "30sp"
            size_hint_y: None
            height: dp(100)
            halign: "center"
        Button:
            text: "Regresar"
            size_hint: None, None
            size: dp(200), dp(50)
            pos_hint: {"center_x": 0.5}
            on_release: app.root.current = "home"

# Pantalla de Recordatorios
<RemindersScreen>:
    BoxLayout:
        orientation: 'vertical'
        # Header
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(15)
            spacing: dp(15)
            size_hint_y: None
            height: dp(80)

            canvas:
                Color:
                    rgba: 0.831, 0.506, 0.631, 1  # Color de fondo del header
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 20, 20]

            Image:
                source: 'assets/logo2.png'
                size_hint: None, None
                size: dp(70), dp(70)
                pos_hint: {"center_y": 0.5}

            Label:
                text: "RECORDATORIOS"
                font_size: "30sp"
                font_name: "assets/TittleRegular.otf"
                color: 0, 0, 0, 1
                valign: "middle"
                halign: "center"

            Button:
                size_hint: None, None
                size: dp(70), dp(70)
                pos_hint: {"center_y": 0.5}
                on_release: app.root.current = "home"
                background_normal: 'assets/back.png'
                background_down: 'assets/back.png'

        # Contenedor con el ScrollView y el botón flotante
        FloatLayout:
            # ScrollView para la lista de recordatorios
            ScrollView:
                BoxLayout:
                    id: recordatorios_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(30)  # Aumento de separación entre los cards
                    padding: [dp(10), dp(20), dp(10), dp(0)]
                    # Lista de recordatorios
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        spacing: dp(30)

            # Botón flotante en la esquina inferior
            MDFloatingActionButton:
                icon: 'assets/add.png'
                pos_hint: {"right": 0.95}
                y:dp(20)
                on_release: root.manager.current = 'add_recordatorio'
                size_hint: None, None
                md_bg_color: 0.831, 0.506, 0.631, 1
                size: dp(58), dp(58)
                elevation: 4
                keep_on_top: True





<EditarTareaScreen>:
    name: "editar_tarea"

    BoxLayout:
        orientation: "vertical"
        padding: "16dp"
        spacing: "8dp"

        MDTextField:
            id: editar_titulo
            hint_text: "Título"
            mode: "rectangle"

        MDTextField:
            id: editar_descripcion
            hint_text: "Descripción"
            mode: "rectangle"

        MDTextField:
            id: editar_fecha
            hint_text: "Fecha (DD/MM/AAAA)"
            mode: "rectangle"

        MDTextField:
            id: editar_hora
            hint_text: "Hora (HH:MM)"
            mode: "rectangle"

        MDRaisedButton:
            text: "Guardar Cambios"
            pos_hint: {"center_x": 0.5}
            on_release: root.actualizar_recordatorio()

        MDRaisedButton:
            text: "Cancelar"
            pos_hint: {"center_x": 0.5}
            on_release: app.root.current = "reminders"

<AddRecordatorioScreen>:
    BoxLayout:
        orientation: 'vertical'

        TextInput:
            id: titulo
            hint_text: "Título del recordatorio"

        TextInput:
            id: descripcion
            hint_text: "Descripción del recordatorio"

        TextInput:
            id: fecha
            hint_text: "Fecha (dd/mm/aaaa)"

        TextInput:
            id: hora
            hint_text: "Hora (hh:mm)"

        Button:
            text: "Agregar Recordatorio"
            on_release: root.agregar_recordatorio()

# Pantalla de Pendientes
<PendingScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Pantalla de Pendientes"
            font_size: "30sp"
            size_hint_y: None
            height: dp(100)
            halign: "center"
        Button:
            text: "Regresar"
            size_hint: None, None
            size: dp(200), dp(50)
            pos_hint: {"center_x": 0.5}
            on_release: app.root.current = "home"

# Pantalla de Configuración
<SettingsScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Pantalla de Configuración"
            font_size: "30sp"
            size_hint_y: None
            height: dp(100)
            halign: "center"
        Button:
            text: "Regresar"
            size_hint: None, None
            size: dp(200), dp(50)
            pos_hint: {"center_x": 0.5}
            on_release: app.root.current = "home"
